<div>
    <H1 class="text-center">My Book Store</H1>
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef style="width: 10%">ID</th>
          <td mat-cell *matCellDef="let book" style="width: 10%">{{ book.id }}</td>
        </ng-container>

        <ng-container matColumnDef="title">
            <th mat-header-cell *matHeaderCellDef style="width: 20%">Book Title</th>
            <td mat-cell *matCellDef="let book" style="width: 20%">{{ book.title }}</td>
        </ng-container>

        <ng-container matColumnDef="cover_image">
            <th mat-header-cell *matHeaderCellDef style="width: 20%">Cover Image</th>
            <td mat-cell *matCellDef="let book" style="width: 20%">
              <img src="{{ getImageUrl(book.cover_image) }}" alt="Cover Image" width="300" height="200">
            </td>
        </ng-container>

        <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef style="width: 50%">Description</th>
            <td mat-cell *matCellDef="let book" style="width: 50%">
              <p class="group inner list-group-item-text" [ngClass]="{'expanded': isExpanded && book.id === selectedBookId, 'expanded-no-overlay': isExpanded && book.id === selectedBookId}">
                {{ book.description }}
              </p>
                <button class="btn btn-warning" *ngIf="!isExpanded || book.id != selectedBookId" (click)="showMore(book.id)">Show More</button>
                <button class="btn btn-warning" *ngIf="isExpanded && book.id === selectedBookId" (click)="showLess(book.id)">Show less</button>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let book; columns: displayedColumns;"></tr>
      </table>
</div>
